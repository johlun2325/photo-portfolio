(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{4556:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/images/[id]",function(){return a(2463)}])},2463:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(4848),r=a(6715),l=a(9965),i=a.n(l),n=a(6540),c=a(1106),d=a.n(c);function o(){let{id:e}=(0,r.useRouter)().query,[t,a]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),[o,h]=(0,n.useState)(null),x=e=>{if(!e||!e.tags)return"";let t=e.tags.find(e=>e.startsWith("title:"));return t?t.replace("title:",""):""};return((0,n.useEffect)(()=>{e&&(async()=>{try{c(!0);let t=await fetch("/api/image?id=".concat(e));if(!t.ok)throw Error("Failed to fetch image");let s=await t.json();a(s)}catch(e){h(e instanceof Error?e.message:"Error loading image")}finally{c(!1)}})()},[e]),l)?(0,s.jsx)("div",{className:"text-center py-8",children:"Loading..."}):o?(0,s.jsx)("div",{className:"text-center py-8 text-red-500",children:o}):t?(0,s.jsx)("div",{className:"max-w-2xl mx-auto p-8",children:(0,s.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg",children:[(0,s.jsx)("div",{className:"py-2 px-4",children:(0,s.jsx)(d(),{href:"/gallery",className:"text-gray-600 hover:text-gray-900 transition-colors",children:"← Back to gallery"})}),(0,s.jsx)("div",{className:"relative w-full",style:{paddingTop:"".concat(t.height/t.width*100,"%")},children:(0,s.jsx)(i(),{src:t.secure_url,alt:x(t),fill:!0,className:"object-contain",sizes:"(max-width: 1280px) 100vw, 1280px",priority:!0})}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:x(t)}),(0,s.jsxs)("p",{className:"text-gray-600 mt-2",children:["Uploaded: ",new Date(t.created_at).toLocaleDateString("sv-SE",{year:"numeric",month:"long",day:"numeric"})]})]})]})}):(0,s.jsx)("div",{className:"text-center py-8",children:"Image not found"})}},6715:(e,t,a)=>{e.exports=a(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[965,636,593,792],()=>t(4556)),_N_E=e.O()}]);