(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[18],{856:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return s(1285)}])},1285:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>n});var r=s(4848),c=s(6540),i=s(9965),t=s.n(i),l=s(1106),o=s.n(l);function n(){var e;let[a,s]=(0,c.useState)([]),[i,l]=(0,c.useState)(null),[n,d]=(0,c.useState)([]),[u,g]=(0,c.useState)(!1),m=(0,c.useCallback)(e=>e.charAt(0).toUpperCase()+e.slice(1),[]),h=(0,c.useCallback)(async e=>{try{let a=await fetch("/api/images?category=".concat(e,"&limit=1"));return(await a.json()).resources[0]}catch(a){return console.error("Error fetching cover image for ".concat(e,":"),a),null}},[]),p=(0,c.useCallback)(async()=>{try{let e=await fetch("/api/folders"),a=await e.json(),r=await Promise.all(a.folders.map(async e=>{let a=await h(e);return{id:e,name:m(e),coverImage:(null==a?void 0:a.secure_url)||""}}));s(r)}catch(e){console.error("Error fetching categories:",e)}},[h,m]),v=(0,c.useCallback)(async e=>{g(!0);try{let a=await fetch("/api/images?category=".concat(e)),s=await a.json();d(s.resources||[])}catch(e){console.error("Error fetching category images:",e)}finally{g(!1)}},[]),f=(0,c.useCallback)(e=>{l(e),v(e)},[v]);return(0,c.useEffect)(()=>{p()},[p]),(0,r.jsxs)("div",{className:"space-y-8 p-8",children:[(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 gap-4 w-full",children:a.map(e=>(0,r.jsx)("div",{className:"relative group cursor-pointer",onClick:()=>f(e.id),children:(0,r.jsxs)("div",{className:"aspect-[3/2] relative overflow-hidden rounded-lg",children:[(0,r.jsx)(t(),{src:e.coverImage,alt:e.name,fill:!0,className:"object-cover transition-transform duration-300 group-hover:scale-105"}),(0,r.jsx)("div",{className:"\n                absolute inset-0 bg-black bg-opacity-30 \n                flex items-center justify-center\n                transition-opacity duration-300\n                ".concat(i===e.id?"bg-opacity-50":"group-hover:bg-opacity-20","\n              "),children:(0,r.jsx)("h2",{className:"text-white text-lg font-semibold",children:e.name})})]})},e.id))}),i&&(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-semibold text-gray-800",children:null===(e=a.find(e=>e.id===i))||void 0===e?void 0:e.name}),u?(0,r.jsx)("div",{className:"text-center py-8",children:"Load images..."}):(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:n.map(e=>(0,r.jsx)(o(),{href:"/images/".concat(encodeURIComponent(e.public_id)),children:(0,r.jsx)("div",{className:"aspect-square relative bg-white rounded-lg overflow-hidden",children:(0,r.jsx)(t(),{src:e.secure_url,alt:"",fill:!0,className:"object-cover hover:scale-105 transition-transform duration-300",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 25vw"})})},e.public_id))})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[965,636,593,792],()=>a(856)),_N_E=e.O()}]);